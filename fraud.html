<!doctype html>
<html lang="zh-Hant">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>抉擇大富翁｜詐騙</title>
    <style>
        :root {
            --fs-body: clamp(18px, 1.6vw, 28px);
            --fs-card-num: clamp(36px, 5vw, 72px);
            --fs-title: clamp(28px, 3.2vw, 60px);
            --fs-modal: clamp(22px, 2.2vw, 40px);
            --wrap-max: 1400px;
        }

        * {
            box-sizing: border-box;
            font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, 'Noto Sans TC', sans-serif
        }

        html,
        body {
            height: 100%
        }

        body {
            margin: 0;
            background: #fff;
            color: #222;
            font-size: var(--fs-body);
        }

        header {
            position: sticky;
            top: 0;
            background: #fff;
            border-bottom: 2px solid #eee;
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 12px;
            padding: 14px 20px;
            z-index: 5
        }

        .title {
            font-weight: 900;
            font-size: var(--fs-title)
        }

        .back {
            border: 2px solid #111;
            background: #111;
            color: #fff;
            border-radius: 12px;
            padding: .6em 1em;
            text-decoration: none;
            font-weight: 800
        }

        .wrap {
            max-width: var(--wrap-max);
            margin: 20px auto 48px;
            padding: 0 20px
        }

        .grid {
            display: grid;
            gap: 18px;
            grid-template-columns: repeat(5, 1fr);
            grid-auto-rows: 1fr
        }

        .grid-scroll {
            overflow-x: auto;
            padding-bottom: 8px
        }

        @media (max-width:900px) {
            .grid {
                min-width: 980px
            }
        }

        .card {
            aspect-ratio: 3/4;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 2px solid #e5e5e5;
            border-radius: 18px;
            background: #fff5e8;
            cursor: pointer;
            user-select: none;
            position: relative;
            transition: transform .15s, box-shadow .15s;
            box-shadow: 0 4px 16px rgba(0, 0, 0, .06)
        }

        .card:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 24px rgba(0, 0, 0, .12)
        }

        .card .num {
            font-size: var(--fs-card-num);
            font-weight: 900;
            opacity: .95;
            letter-spacing: .02em
        }

        .card.used {
            visibility: hidden;
            pointer-events: none
        }

        .modal {
            position: fixed;
            inset: 0;
            background: #fff;
            display: none;
            z-index: 20;
            overflow: auto
        }

        .modal.show {
            display: block
        }

        .modal .inner {
            max-width: 1100px;
            margin: 90px auto 60px;
            padding: 0 24px
        }

        .modal h1 {
            margin: 0 0 14px;
            font-size: var(--fs-title);
            line-height: 1.15
        }

        .modal .content {
            border: 2px solid #eee;
            border-radius: 20px;
            padding: 24px 22px;
            box-shadow: 0 18px 44px rgba(0, 0, 0, .12);
            line-height: 1.7;
            background: #fff;
            font-size: var(--fs-modal)
        }

        .actions {
            margin-top: 16px;
            display: flex;
            flex-wrap: wrap;
            gap: 12px
        }

        .btn {
            border: 2px solid #111;
            background: #111;
            color: #fff;
            border-radius: 12px;
            padding: .6em 1em;
            text-decoration: none;
            font-weight: 800;
            cursor: pointer
        }

        .btn.ghost {
            background: #fff;
            color: #111
        }

        .btn.ok {
            background: #2f9e44;
            border-color: #2f9e44
        }

        .btn.warn {
            background: #e03131;
            border-color: #e03131
        }

        .close {
            position: fixed;
            right: 18px;
            top: 14px;
            width: 56px;
            height: 56px;
            border-radius: 14px;
            border: 2px solid #e6e6e6;
            background: #fff;
            display: grid;
            place-items: center;
            font-size: 34px;
            font-weight: 900;
            cursor: pointer;
            z-index: 22;
            box-shadow: 0 14px 36px rgba(0, 0, 0, .18)
        }

        .result {
            margin-top: 12px
        }
    </style>
</head>

<body>
    <header>
        <div class="title">抉擇大富翁｜詐騙</div>
        <a class="back" href="index.html">返回大富翁</a>
    </header>

    <div class="wrap grid-scroll">
        <div class="grid" id="grid"></div>
    </div>

    <div class="modal" id="modal" aria-hidden="true">
        <button class="close" id="closeBtn" aria-label="關閉">×</button>
        <div class="inner">
            <h1 id="modalTitle">詐騙 #1</h1>
            <div class="content" id="modalBody">題目內容</div>
        </div>
    </div>

    <script>
        const USED_KEY = 'fraud_used_v1';
        let used = new Set(); try { const raw = localStorage.getItem(USED_KEY); if (raw) used = new Set(JSON.parse(raw)); } catch { }
        function saveUsed() { localStorage.setItem(USED_KEY, JSON.stringify([...used])); }
        function markUsedImmediate(idx) { used.add(idx); saveUsed(); const el = document.querySelector(`.card[data-index="${idx}"]`); if (el) { el.classList.add('used'); el.setAttribute('tabindex', '-1'); } }

        const DATA = {
            1: {
                q: '有人在社群軟體上說「代儲 5 折」，你會怎麼做？',
                opts: ['立刻轉帳', '請朋友幫忙確認', '不理會，這是詐騙'],
                ans: 2,
                explain: '代儲通常是假冒行為，容易被盜帳號或金錢損失。'
            },
            2: {
                q: '你在網路上看到廣告保證「投資 1 萬，一週回本 2 萬」，你會怎麼做？',
                opts: ['立刻投資', '查詢金管會、165 反詐騙專線', '請他再多保證一些'],
                ans: 1,
                explain: '保證高報酬低風險，幾乎都是詐騙。'
            },
            3: {
                q: '接到電話：「這裡是銀行，你的帳號有問題，請馬上提供帳號密碼！」你會怎麼做？',
                opts: ['馬上告訴他帳號密碼', '請他等一下再打來', '不提供資料，掛掉電話', '把電話交給朋友處理'],
                ans: 2,
                explain: '銀行不會用電話要求提供帳號密碼，這一定是詐騙。'
            },
            4: {
                q: '路上有人賣「護身符能讓你考一百分！」你會怎麼做？',
                opts: ['馬上掏錢買', '不相信，因為這是騙人的', '問同學要不要一起買', '想一想再決定'],
                ans: 1,
                explain: '沒有任何東西能保證考試成績，這是假的。'
            },
            5: {
                q: '你收到簡訊：「恭喜中獎一台平板，請點這個連結領取！」你會怎麼做？',
                opts: ['立刻點進去', '拿給爸媽看', '不要點，直接刪掉簡訊', '回覆「謝謝」給對方'],
                ans: 2,
                explain: '陌生連結很危險，可能會中毒或被盜資料。'
            }
        };

        const grid = document.getElementById('grid');
        for (let i = 1; i <= 5; i++) {
            const card = document.createElement('div');
            card.className = 'card'; card.dataset.index = String(i);
            card.setAttribute('role', 'button'); card.setAttribute('tabindex', '0');
            card.innerHTML = `<div class="num">${i}</div>`;
            if (used.has(i)) card.classList.add('used');
            card.addEventListener('click', () => { if (!card.classList.contains('used')) openModal(i); });
            card.addEventListener('keydown', e => { if (e.key === 'Enter' || e.key === ' ') { e.preventDefault(); if (!card.classList.contains('used')) openModal(i); } });
            grid.appendChild(card);
        }

        const modal = document.getElementById('modal');
        const modalTitle = document.getElementById('modalTitle');
        const modalBody = document.getElementById('modalBody');
        const closeBtn = document.getElementById('closeBtn');
        let activeIndex = null;

        function openModal(i) {
            activeIndex = i; modalTitle.textContent = `詐騙 #${i}`; renderQuestion(i);
            modal.classList.add('show'); closeBtn.focus();
        }
        function closeModal() {
            modal.classList.remove('show');
            if (activeIndex != null) { markUsedImmediate(activeIndex); activeIndex = null; }
        }
        closeBtn.addEventListener('click', closeModal);
        document.addEventListener('keydown', e => { if (e.key === 'Escape') closeModal(); });

        function renderQuestion(i) {
            const d = DATA[i]; const letters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'.split('');
            const wrap = document.createElement('div'); wrap.innerHTML = `<div>${d.q}</div>`;
            const actions = document.createElement('div'); actions.className = 'actions';
            d.opts.forEach((t, idx) => {
                const btn = document.createElement('button');
                btn.className = 'btn ghost'; btn.dataset.idx = idx;
                btn.innerHTML = `${letters[idx]}. ${t}`;
                actions.appendChild(btn);
            });
            const result = document.createElement('div'); result.className = 'result';
            actions.addEventListener('click', e => {
                const idx = Number(e.target?.dataset?.idx); if (isNaN(idx)) return;
                [...actions.querySelectorAll('button')].forEach(b => b.disabled = true);
                const correct = d.ans;
                if (idx === correct) {
                    e.target.classList.remove('ghost'); e.target.classList.add('ok');
                    result.innerHTML = '✅ 正確！<br><span style="opacity:.8">' + d.explain + '</span>';
                } else {
                    e.target.classList.remove('ghost'); e.target.classList.add('warn');
                    const good = actions.querySelector(`button[data-idx="${correct}"]`);
                    if (good) { good.classList.remove('ghost'); good.classList.add('ok'); }
                    const L = letters[correct];
                    result.innerHTML = `❌ 再想想～ 正確答案是 <b>${L}</b>。<br><span style="opacity:.8">${d.explain}</span>`;
                }
            });
            wrap.appendChild(actions); wrap.appendChild(result);
            modalBody.innerHTML = ''; modalBody.appendChild(wrap);
        }
    </script>
</body>

</html>